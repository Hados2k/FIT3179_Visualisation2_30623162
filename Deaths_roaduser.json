{
    "width": 800,
    "height": 400,
    "padding": 2.5,
    "data":
      {
      "name": "tree",
      "url": "https://raw.githubusercontent.com/Hados2k/FIT3179_Visualisation2_30623162/main/data/deaths_by_roaduser.csv",
      "format": {"type": "csv"}
      },
    "transform": [
          {"type": "stratify", "key": "id", "parentKey": "parent"},
          {
            "type": "treemap",
            "field": "size",
            "sort": {"field": "value"},
            "round": true,
            "method": {"signal": "layout"},
            "ratio": {"signal": "aspectRatio"},
            "size": [{"signal": "width"}, {"signal": "height"}]
            
          },
          { "filter": "datum.Years==Year"}
        ],
    "params": [{
      "name": "Year",
      "value": 2022,
      "bind": {"name": "Select the year:", "input": "range", "min": 2013,"max": 2022,"step": 1}
        }
      ],
    "mark": "rect",
    "encoding": {
      "x": {"field": "Deaths", "type": "quantitative"},
      "y": {"field": "Road_user", "type": "nominal"},
      "color": {"field": "Deaths", "type": "quantitative", "scale": {"scheme": "purplered"}}
    }
  }